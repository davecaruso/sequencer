import{E as e,C as t,R as n,a as o}from"./vendor.bf6b0267.js";async function i(e){const t=document.createElement("div");t.id="dialog",t.style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 99999;";const n=document.createElement("div");n.style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 400px; height: 200px; background-color: white; border: 1px solid black;";const o=document.createElement("div");o.innerText=e,o.style="position: absolute; top: 10px; left: 10px;";const i=document.createElement("input");return i.id=e,i.style="position: absolute; top: 50px; left: 10px; width: 500px; height: 30px;",i.autofocus=!0,n.appendChild(o),n.appendChild(i),t.appendChild(n),document.body.appendChild(t),i.focus(),new Promise(((e,n)=>{i.addEventListener("keyup",(o=>{"Enter"===o.key&&(e(i.value),t.remove()),"Escape"===o.key&&(n(),t.remove())}))}))}async function l(e){const t=await i(e),n=parseInt(t,10);if(isNaN(n))throw new Error("is nan "+n);return n}const a=new e;let c;function r(){const e=t.exports.useState(!1)[1];return t.exports.useEffect((()=>{function t(){e((e=>!e))}return a.on("change",t),()=>{a.off("change",t)}}),[]),c}async function s(e,...t){return await CTK.dispatchAction(e,t)}function d({id:e}){const t=r().project.resources[e];if(!t)return null;const{name:o,fusion:a,audioClips:c}=t;return n.createElement("div",null,n.createElement("h1",null,e,' "',o,'"'),JSON.stringify(t),n.createElement("br",null),n.createElement("button",{onClick:async()=>{const t=await i(".source"),n=await l(".offset"),o=await l(".duration");s("SQ_AddFusionClip",{sqId:e,clip:{source:t,offset:n,duration:o}})}},"add fusion clip"),n.createElement("button",{onClick:async()=>{const t=await i("file path of source"),n=await l(".offset"),o=await l(".trim_in"),a=await l(".trim_out"),c=await l(".track");s("SQ_AddAudioClip",{sqId:e,clip:{source:t,offset:n,trim_in:o,trim_out:a,track:c}})}},"add audio clip"),n.createElement("button",{onClick:async()=>{const t=await i("where save");s("SQ_Render",{sqId:e,exportLocation:t})}},"render final video"),n.createElement("button",{onClick:()=>{s("SQ_RenderAudio",{sqId:e})}},"render audio only"),n.createElement("button",{onClick:()=>{s("SQ_UpdateAllCompositions",{sqId:e})}},"sync clean all"),n.createElement("div",null,Object.entries(a).map((([t,o])=>n.createElement("div",{key:t},t," - ",n.createElement("code",null,JSON.stringify(o)),n.createElement("button",{onClick:()=>{s("General_Open",o.source)}},"open this"),n.createElement("button",{onClick:()=>{s("SQ_RemoveFusionClip",{sqId:e,clipId:t})}},"delete this"),n.createElement("button",{onClick:()=>{s("SQ_RenderSingleClip",{sqId:e,clipId:t})}},"render"),n.createElement("button",{onClick:()=>{s("SQ_UpdateComposition",{sqId:e,clipId:t})}},"SQ_UpdateComposition"),n.createElement("button",{onClick:async()=>{const n=await l(`${t} offset=${o.offset}`);s("SQ_SetFusionClipProp",{sqId:e,clipId:t,prop:"offset",value:n})}},"set clip offset"),n.createElement("button",{onClick:async()=>{const n=await l(`${t} duration=${o.duration}`);s("SQ_SetFusionClipProp",{sqId:e,clipId:t,prop:"duration",value:n})}},"set clip duration"))))),n.createElement("hr",null),n.createElement("div",null,Object.entries(c).map((([t,o])=>n.createElement("div",{key:t},t," - ",n.createElement("code",null,JSON.stringify(o)),n.createElement("button",{onClick:()=>{s("SQ_RemoveAudioClip",{sqId:e,clipId:t})}},"delete this"),n.createElement("button",{onClick:async()=>{const n=await l(`${t} offset=${o.offset}`);s("SQ_SetAudioClipProp",{sqId:e,clipId:t,prop:"offset",value:n})}},"set clip offset"),n.createElement("button",{onClick:async()=>{const n=await l(`${t} trim_in=${o.trim_in}`);s("SQ_SetAudioClipProp",{sqId:e,clipId:t,prop:"trim_in",value:n})}},"set clip duration"),n.createElement("button",{onClick:async()=>{const n=await l(`${t} trim_out=${o.trim_out}`);s("SQ_SetAudioClipProp",{sqId:e,clipId:t,prop:"trim_out",value:n})}},"set clip duration"),n.createElement("button",{onClick:async()=>{const n=await l(`${t} track=${o.track}`);s("SQ_SetAudioClipProp",{sqId:e,clipId:t,prop:"track",value:n})}},"set clip track"),n.createElement("button",{onClick:async()=>{const n=await i(`${t} replace file ${o.source}`);s("SQ_SetAudioClipProp",{sqId:e,clipId:t,prop:"source",value:n})}},"replace file"))))))}function u(){const e=r();return e?n.createElement("div",null,e.loading&&n.createElement("h1",null,"loading..."),n.createElement("h1",null,"toolkit v0.33.0"),n.createElement("pre",null,n.createElement("code",null,JSON.stringify(e.pathdata,null,2))),n.createElement("p",null,"resource viewer is main and main only"),n.createElement("button",{onClick:()=>s("Project_Save")},"save self"),n.createElement("button",{onClick:()=>s("Project_Load")},"load data"),n.createElement("button",{onClick:()=>s("System_OpenCache")},"cache"),n.createElement(d,{id:"ff52c06f-5bcf-49ca-86d5-cbb29d76c7da"})):null}location.hash.slice(1),CTK.setUpdateHandler((function(e){c=e,a.emit("change")})),CTK.requestUpdate(),setTimeout((()=>{o.render(n.createElement(u,null),document.querySelector("#root"))}),100);
